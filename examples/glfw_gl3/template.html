<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>flexui demo</title>
		<style>
		* {
			margin: 0;
			padding 0;
			overflow: hidden;
		}
		
		body {
			height: 100vh;
		}
		
		#canvas {
			width: 100vw;
			height: 100vh;
			background: black;
		}

		.loading-container {
			position: absolute;
			width: 100%;
			height: 100%;
			z-index: 2;
			top: 0;
			left: 0;
			display: flex;
			justify-content: center;
		}
		
		.status {
			font-family: Roboto;
			font-size: 20px;
			color: white;
			align-self: center;
		}
		</style>
	</head>
	<body>
		<canvas id="canvas" oncontextmenu="event.preventDefault()"></canvas>
		<div class="loading-container">
			<div class="status">
				Loading...
			<div>
		</div>
		<script type="text/javascript">
		  var Module = {
			preRun: [],
			postRun: [],
			print: (function() {
			  return function(text) {
				if (arguments.length > 1) text = Array.prototype.slice.call(arguments).join(' ');
				console.log(text);
			  };
			})(),
			printErr: function(text) {
				if (arguments.length > 1) text = Array.prototype.slice.call(arguments).join(' ');
				console.error(text);
			},
			canvas: (function() {
			  var canvas = document.getElementById('canvas');
			  canvas.addEventListener("webglcontextlost", function(e) { alert('WebGL context lost. You will need to reload the page.'); e.preventDefault(); }, false);
			  return canvas;
			})(),
			setStatus(text) {
				document.getElementsByClassName("status")[0].innerText = text;
				if(text.length == 0)
					document.getElementsByClassName("loading-container")[0].style.display = "none";
			}
		  };
		</script>
		<script type="text/javascript">
		// handle resizing
		window.onresize = function() {
			Module.setCanvasSize(window.innerWidth, window.innerHeight);
		};
		</script>
		{{{ SCRIPT }}}
	</body>
</html>